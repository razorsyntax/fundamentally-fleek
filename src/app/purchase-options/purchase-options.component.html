<app-header></app-header>

<div class="error-section">
	<div class="content-wrapper">
		<div class="error-card">
			<h1>Purchase Options</h1>
			<h2>Choose Your Plan</h2>

			<section class="activation-section-container" aria-labelledby="activation-title">
				<div class="activation-section">
					<h2 id="activation-title" class="visually-hidden">Activation</h2>
					<p>Already have a key?</p>
					<a 
						class="button accent" 
						[href]="activationUrl" 
						target="_blank"
						aria-label="Activate your Fundamentally subscription"
					>
						Activate Here
					</a>
				</div>
			</section>

			<div class="options-grid" role="list">
				@for (option of purchaseOptions; track option.title) {
				<article class="option-card" role="listitem">
					<div class="card-header">
						<span
							class="card-icon"
							[ngClass]="{ 'bitcoin-icon': option.icon === '₿' }"
							aria-hidden="true"
							>{{ option.icon }}</span
						>
						<h3 class="card-title">{{ option.title }}</h3>
					</div>
					<div class="card-content">
						<div class="plan-price">{{ option.price }}</div>
						<p>{{ option.description }}</p>
					</div>
					<div class="card-actions">
						<a 
							class="button primary" 
							[href]="option.link" 
							target="_blank"
							[attr.aria-label]="'Select ' + option.title + ' plan'"
						>
							Select Plan
						</a>
					</div>
				</article>
				}
			</div>

			<section class="info-section" aria-labelledby="info-title">
				<h2 id="info-title" class="visually-hidden">Payment Information</h2>
				<div class="info-banner">
					<span class="info-icon" aria-hidden="true">ℹ️</span>
					<p>
						All purchases are processed through
						<a
							href="https://www.aquarianmetals.com"
							target="_blank"
							aria-label="Visit Aquarian Metals payment processor"
							>Aquarian Metals</a
						>. You will receive an activation key upon successful payment.
					</p>
				</div>
			</section>

			<section class="features-section" aria-labelledby="features-title">
				<h2 id="features-title">All Plans Include:</h2>
				<div class="features-grid" role="list">
					@for (feature of features; track feature.text) {
					<article class="feature-item" role="listitem">
						<span class="feature-icon" aria-hidden="true">{{ feature.icon }}</span>
						<span class="feature-text">{{ feature.text }}</span>
					</article>
					}
				</div>
			</section>

			<div class="error-actions">
				<a routerLink="/" class="primary-button">Return Home</a>
			</div>
		</div>
	</div>
</div>

<style>
.visually-hidden {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border: 0;
}

.options-grid {
	display: grid;
	grid-template-columns: repeat(3, 1fr);
	gap: 24px;
	margin: 32px 0;
	max-width: 1200px;
	margin-left: auto;
	margin-right: auto;
}

.option-card {
	display: flex;
	flex-direction: column;
	background: var(--surface-color);
	border-radius: 8px;
	padding: 24px;
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
	transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
	height: 100%;
	box-sizing: border-box;
}

.option-card:hover {
	transform: translateY(-4px);
	box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.card-header {
	display: flex;
	align-items: center;
	gap: 12px;
	margin-bottom: 16px;
}

.card-icon {
	font-size: 24px;
	display: flex;
	align-items: center;
	justify-content: center;
}

.card-title {
	margin: 0;
	font-size: 1.25em;
	font-weight: 600;
}

.card-content {
	flex: 1;
	margin-bottom: 16px;
	min-height: 0;
}

.plan-price {
	font-size: 2em;
	font-weight: 700;
	margin-bottom: 12px;
	color: var(--primary-color);
}

.card-actions {
	margin-top: auto;
	width: 100%;
}

.button {
	display: block;
	width: 100%;
	padding: 12px 16px;
	text-align: center;
	text-decoration: none;
	border-radius: 4px;
	font-weight: 600;
	transition: background-color 0.2s ease-in-out;
	box-sizing: border-box;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.button.primary {
	background-color: var(--primary-color);
	color: white;
}

.button.primary:hover {
	background-color: var(--primary-color-dark);
}

.button.accent {
	background-color: var(--accent-color);
	color: white;
}

.button.accent:hover {
	background-color: var(--accent-color-dark);
}

@media (max-width: 1024px) {
	.options-grid {
		grid-template-columns: repeat(2, 1fr);
	}
}

@media (max-width: 768px) {
	.options-grid {
		grid-template-columns: 1fr;
	}
}
</style>
